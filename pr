DROP TYPE IF EXISTS ConstraintListType;
GO

CREATE TYPE ConstraintListType AS TABLE
(
    ConstraintName SYSNAME,
    ConstraintType VARCHAR(20),       -- 'PK' or 'DF'
    ColumnName SYSNAME NULL,          -- Needed for default constraints
    DefaultValue NVARCHAR(MAX) NULL   -- Needed for DF add
);
==========================


Drop constraints:
 
DECLARE @Constraints ConstraintListType;

INSERT INTO @Constraints (ConstraintName, ConstraintType)
VALUES 
    ('PK_CustomerTag_CustomerTagId', 'PK'),
    ('DF_CustomerTag_TagActive', 'DF'),
    ('DF_CustomerTag_UpsertDateTime', 'DF');

EXEC usp_ManageConstraintsAndIndexes 
    @SchemaName = 'dbo', 
    @TableName = 'CustomerTag',
    @Constraints = @Constraints,
    @Status = 'Drop';


==========================

Add:

DECLARE @Constraints ConstraintListType;

INSERT INTO @Constraints (ConstraintName, ConstraintType, ColumnName, DefaultValue)
VALUES 
    ('DF_CustomerTag_TagActive', 'DF', 'TagActive', '((1))'),
    ('DF_CustomerTag_UpsertDateTime', 'DF', 'UpsertDateTime', '(GETDATE())');

EXEC usp_ManageConstraintsAndIndexes 
    @SchemaName = 'dbo', 
    @TableName = 'CustomerTag',
    @Constraints = @Constraints,
    @Status = 'Add';
