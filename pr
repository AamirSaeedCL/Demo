CREATE TYPE [dbo].[CustomerIdsTableType] AS TABLE(
	[CustomerId] [bigint] NOT NULL PRIMARY KEY
)
GO


CREATE PROCEDURE [dbo].[usp_CustomerAddress_UpdateCustomerGroupId]
    @CustomerIds [dbo].[CustomerIdsTableType] READONLY
AS
BEGIN
    SET NOCOUNT ON;
     BEGIN TRANSACTION;
        UPDATE ca
        SET ca.customergroupid = c.customergroupid
        FROM dbo.CustomerAddress ca
        INNER JOIN dbo.Customer c ON ca.customerid = c.customerid
        WHERE 
    COMMIT TRANSACTION;
END;
